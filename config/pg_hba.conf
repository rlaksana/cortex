# =============================================================================
# POSTGRESQL HOST-BASED AUTHENTICATION - CORTEX MCP WSL2
# =============================================================================
# Purpose: Secure access control for Cortex Memory MCP database
# Environment: WSL2 Docker container
# Security: Container-optimized authentication rules
# =============================================================================

# TYPE  DATABASE        USER            ADDRESS                 METHOD

# LOCAL CONNECTIONS
local   all             postgres                                peer
local   all             all                                     md5

# IPv4 LOCAL CONNECTIONS
host    all             all             127.0.0.1/32            md5
host    all             all             0.0.0.0/0               md5

# IPv6 LOCAL CONNECTIONS
host    all             all             ::1/128                 md5

# DOCKER NETWORK CONNECTIONS (WSL2 Optimized)
host    all             all             172.20.0.0/16           md5
host    all             all             172.17.0.0/16           md5

# REPLICATION CONNECTIONS
host    replication     replicator      0.0.0.0/0               md5

# Cortex MCP specific connections
host    cortex_prod     cortex          0.0.0.0/0               md5
host    cortex_dev      cortex          0.0.0.0/0               md5
host    cortex_test     cortex          0.0.0.0/0               md5